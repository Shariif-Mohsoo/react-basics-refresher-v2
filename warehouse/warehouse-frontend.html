<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warehouse Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        header h1 {
            text-align: center;
        }

        nav {
            background-color: #34495e;
            padding: 15px;
            margin-bottom: 30px;
            border-radius: 5px;
        }

        nav button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            margin-right: 10px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
        }

        nav button:hover {
            background-color: #2980b9;
        }

        nav button.active {
            background-color: #2ecc71;
        }

        .section {
            display: none;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .section.active {
            display: block;
        }

        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .card h3 {
            font-size: 16px;
            margin-bottom: 10px;
        }

        .card .number {
            font-size: 36px;
            font-weight: bold;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-success {
            background-color: #2ecc71;
        }

        .btn-success:hover {
            background-color: #27ae60;
        }

        .btn-danger {
            background-color: #e74c3c;
        }

        .btn-danger:hover {
            background-color: #c0392b;
        }

        .btn-small {
            padding: 5px 10px;
            font-size: 14px;
            margin-right: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table th, table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        table th {
            background-color: #34495e;
            color: white;
        }

        table tr:hover {
            background-color: #f5f5f5;
        }

        .search-box {
            margin-bottom: 20px;
        }

        .search-box input {
            width: 300px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        h2 {
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .form-container {
            max-width: 600px;
            margin-bottom: 30px;
        }

        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            display: none;
        }

        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .low-stock {
            background-color: #fff3cd;
        }
    </style>
</head>
<body>
    <header>
        <h1>ðŸ“¦ Warehouse Management System</h1>
    </header>

    <div class="container">
        <nav>
            <button class="nav-btn active" onclick="showSection('dashboard')">Dashboard</button>
            <button class="nav-btn" onclick="showSection('products')">Products</button>
            <button class="nav-btn" onclick="showSection('categories')">Categories</button>
            <button class="nav-btn" onclick="showSection('transactions')">Transactions</button>
        </nav>

        <!-- Dashboard Section -->
        <div id="dashboard" class="section active">
            <h2>Dashboard</h2>
            <div class="dashboard-cards">
                <div class="card">
                    <h3>Total Products</h3>
                    <div class="number" id="totalProducts">0</div>
                </div>
                <div class="card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <h3>Total Stock Value</h3>
                    <div class="number" id="totalValue">$0</div>
                </div>
                <div class="card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <h3>Low Stock Items</h3>
                    <div class="number" id="lowStock">0</div>
                </div>
                <div class="card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                    <h3>Categories</h3>
                    <div class="number" id="totalCategories">0</div>
                </div>
            </div>

            <h3>Recent Transactions</h3>
            <table>
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Type</th>
                        <th>Quantity</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody id="recentTransactions"></tbody>
            </table>
        </div>

        <!-- Products Section -->
        <div id="products" class="section">
            <h2>Product Management</h2>
            
            <div class="alert alert-success" id="productAlert"></div>

            <div class="form-container">
                <h3>Add New Product</h3>
                <form id="productForm">
                    <div class="form-group">
                        <label>Product Name</label>
                        <input type="text" id="productName" required>
                    </div>
                    <div class="form-group">
                        <label>SKU</label>
                        <input type="text" id="productSKU" required>
                    </div>
                    <div class="form-group">
                        <label>Category</label>
                        <select id="productCategory" required></select>
                    </div>
                    <div class="form-group">
                        <label>Quantity</label>
                        <input type="number" id="productQuantity" required>
                    </div>
                    <div class="form-group">
                        <label>Price ($)</label>
                        <input type="number" step="0.01" id="productPrice" required>
                    </div>
                    <button type="submit" class="btn btn-success">Add Product</button>
                    <button type="button" class="btn" onclick="resetProductForm()">Cancel</button>
                </form>
            </div>

            <div class="search-box">
                <input type="text" id="searchProduct" placeholder="Search products..." onkeyup="searchProducts()">
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>SKU</th>
                        <th>Category</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="productsTable"></tbody>
            </table>
        </div>

        <!-- Categories Section -->
        <div id="categories" class="section">
            <h2>Category Management</h2>
            
            <div class="alert alert-success" id="categoryAlert"></div>

            <div class="form-container">
                <h3>Add New Category</h3>
                <form id="categoryForm">
                    <div class="form-group">
                        <label>Category Name</label>
                        <input type="text" id="categoryName" required>
                    </div>
                    <button type="submit" class="btn btn-success">Add Category</button>
                    <button type="button" class="btn" onclick="resetCategoryForm()">Cancel</button>
                </form>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Category Name</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="categoriesTable"></tbody>
            </table>
        </div>

        <!-- Transactions Section -->
        <div id="transactions" class="section">
            <h2>Stock Transactions</h2>
            
            <div class="alert alert-success" id="transactionAlert"></div>

            <div class="form-container">
                <h3>Add New Transaction</h3>
                <form id="transactionForm">
                    <div class="form-group">
                        <label>Product</label>
                        <select id="transactionProduct" required></select>
                    </div>
                    <div class="form-group">
                        <label>Transaction Type</label>
                        <select id="transactionType" required>
                            <option value="IN">Stock IN</option>
                            <option value="OUT">Stock OUT</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Quantity</label>
                        <input type="number" id="transactionQuantity" required>
                    </div>
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" id="transactionDate" required>
                    </div>
                    <button type="submit" class="btn btn-success">Add Transaction</button>
                    <button type="button" class="btn" onclick="resetTransactionForm()">Cancel</button>
                </form>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Product</th>
                        <th>Type</th>
                        <th>Quantity</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody id="transactionsTable"></tbody>
            </table>
        </div>
    </div>

    <script>
        // Dummy Data
        let categories = [
            { id: 1, name: 'Electronics' },
            { id: 2, name: 'Clothing' },
            { id: 3, name: 'Food' },
            { id: 4, name: 'Furniture' }
        ];

        let products = [
            { id: 1, name: 'Laptop', sku: 'LAP001', category_id: 1, quantity: 15, price: 899.99 },
            { id: 2, name: 'T-Shirt', sku: 'TSH001', category_id: 2, quantity: 50, price: 19.99 },
            { id: 3, name: 'Rice Bag', sku: 'RICE001', category_id: 3, quantity: 8, price: 25.00 },
            { id: 4, name: 'Office Chair', sku: 'CHR001', category_id: 4, quantity: 12, price: 149.99 },
            { id: 5, name: 'Smartphone', sku: 'PHN001', category_id: 1, quantity: 25, price: 599.99 }
        ];

        let transactions = [
            { id: 1, product_id: 1, type: 'IN', quantity: 10, date: '2024-11-10' },
            { id: 2, product_id: 2, type: 'OUT', quantity: 5, date: '2024-11-11' },
            { id: 3, product_id: 3, type: 'IN', quantity: 20, date: '2024-11-12' },
            { id: 4, product_id: 4, type: 'OUT', quantity: 3, date: '2024-11-12' }
        ];

        let editingProductId = null;
        let editingCategoryId = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadCategoryDropdowns();
            loadProductDropdown();
            displayProducts();
            displayCategories();
            displayTransactions();
            updateDashboard();
            document.getElementById('transactionDate').valueAsDate = new Date();
        });

        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }

        // Dashboard
        function updateDashboard() {
            document.getElementById('totalProducts').textContent = products.length;
            const totalValue = products.reduce((sum, p) => sum + (p.quantity * p.price), 0);
            document.getElementById('totalValue').textContent = '$' + totalValue.toFixed(2);
            const lowStock = products.filter(p => p.quantity < 10).length;
            document.getElementById('lowStock').textContent = lowStock;
            document.getElementById('totalCategories').textContent = categories.length;

            const recent = transactions.slice(-5).reverse();
            const html = recent.map(t => {
                const product = products.find(p => p.id === t.product_id);
                return `<tr>
                    <td>${product ? product.name : 'Unknown'}</td>
                    <td><span style="color: ${t.type === 'IN' ? 'green' : 'red'}">${t.type}</span></td>
                    <td>${t.quantity}</td>
                    <td>${t.date}</td>
                </tr>`;
            }).join('');
            document.getElementById('recentTransactions').innerHTML = html;
        }

        // Categories
        function loadCategoryDropdowns() {
            const dropdown = document.getElementById('productCategory');
            dropdown.innerHTML = '<option value="">Select Category</option>' +
                categories.map(c => `<option value="${c.id}">${c.name}</option>`).join('');
        }

        function displayCategories() {
            const html = categories.map(c => `
                <tr>
                    <td>${c.id}</td>
                    <td>${c.name}</td>
                    <td>
                        <button class="btn btn-small" onclick="editCategory(${c.id})">Edit</button>
                        <button class="btn btn-danger btn-small" onclick="deleteCategory(${c.id})">Delete</button>
                    </td>
                </tr>
            `).join('');
            document.getElementById('categoriesTable').innerHTML = html;
        }

        document.getElementById('categoryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('categoryName').value;

            if (editingCategoryId) {
                const cat = categories.find(c => c.id === editingCategoryId);
                cat.name = name;
                showAlert('categoryAlert', 'Category updated successfully!');
                editingCategoryId = null;
            } else {
                const newId = categories.length > 0 ? Math.max(...categories.map(c => c.id)) + 1 : 1;
                categories.push({ id: newId, name });
                showAlert('categoryAlert', 'Category added successfully!');
            }

            resetCategoryForm();
            displayCategories();
            loadCategoryDropdowns();
            updateDashboard();
        });

        function editCategory(id) {
            const cat = categories.find(c => c.id === id);
            document.getElementById('categoryName').value = cat.name;
            editingCategoryId = id;
        }

        function deleteCategory(id) {
            if (confirm('Are you sure you want to delete this category?')) {
                categories = categories.filter(c => c.id !== id);
                displayCategories();
                loadCategoryDropdowns();
                updateDashboard();
                showAlert('categoryAlert', 'Category deleted successfully!');
            }
        }

        function resetCategoryForm() {
            document.getElementById('categoryForm').reset();
            editingCategoryId = null;
        }

        // Products
        function loadProductDropdown() {
            const dropdown = document.getElementById('transactionProduct');
            dropdown.innerHTML = '<option value="">Select Product</option>' +
                products.map(p => `<option value="${p.id}">${p.name}</option>`).join('');
        }

        function displayProducts() {
            const html = products.map(p => {
                const category = categories.find(c => c.id === p.category_id);
                const rowClass = p.quantity < 10 ? 'low-stock' : '';
                return `<tr class="${rowClass}">
                    <td>${p.name}</td>
                    <td>${p.sku}</td>
                    <td>${category ? category.name : 'N/A'}</td>
                    <td>${p.quantity}</td>
                    <td>$${p.price.toFixed(2)}</td>
                    <td>
                        <button class="btn btn-small" onclick="editProduct(${p.id})">Edit</button>
                        <button class="btn btn-danger btn-small" onclick="deleteProduct(${p.id})">Delete</button>
                    </td>
                </tr>`;
            }).join('');
            document.getElementById('productsTable').innerHTML = html;
        }

        document.getElementById('productForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('productName').value;
            const sku = document.getElementById('productSKU').value;
            const category_id = parseInt(document.getElementById('productCategory').value);
            const quantity = parseInt(document.getElementById('productQuantity').value);
            const price = parseFloat(document.getElementById('productPrice').value);

            if (editingProductId) {
                const product = products.find(p => p.id === editingProductId);
                product.name = name;
                product.sku = sku;
                product.category_id = category_id;
                product.quantity = quantity;
                product.price = price;
                showAlert('productAlert', 'Product updated successfully!');
                editingProductId = null;
            } else {
                const newId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;
                products.push({ id: newId, name, sku, category_id, quantity, price });
                showAlert('productAlert', 'Product added successfully!');
            }

            resetProductForm();
            displayProducts();
            loadProductDropdown();
            updateDashboard();
        });

        function editProduct(id) {
            const product = products.find(p => p.id === id);
            document.getElementById('productName').value = product.name;
            document.getElementById('productSKU').value = product.sku;
            document.getElementById('productCategory').value = product.category_id;
            document.getElementById('productQuantity').value = product.quantity;
            document.getElementById('productPrice').value = product.price;
            editingProductId = id;
        }

        function deleteProduct(id) {
            if (confirm('Are you sure you want to delete this product?')) {
                products = products.filter(p => p.id !== id);
                displayProducts();
                loadProductDropdown();
                updateDashboard();
                showAlert('productAlert', 'Product deleted successfully!');
            }
        }

        function resetProductForm() {
            document.getElementById('productForm').reset();
            editingProductId = null;
        }

        function searchProducts() {
            const query = document.getElementById('searchProduct').value.toLowerCase();
            const filtered = products.filter(p => 
                p.name.toLowerCase().includes(query) || 
                p.sku.toLowerCase().includes(query)
            );
            
            const html = filtered.map(p => {
                const category = categories.find(c => c.id === p.category_id);
                const rowClass = p.quantity < 10 ? 'low-stock' : '';
                return `<tr class="${rowClass}">
                    <td>${p.name}</td>
                    <td>${p.sku}</td>
                    <td>${category ? category.name : 'N/A'}</td>
                    <td>${p.quantity}</td>
                    <td>$${p.price.toFixed(2)}</td>
                    <td>
                        <button class="btn btn-small" onclick="editProduct(${p.id})">Edit</button>
                        <button class="btn btn-danger btn-small" onclick="deleteProduct(${p.id})">Delete</button>
                    </td>
                </tr>`;
            }).join('');
            document.getElementById('productsTable').innerHTML = html;
        }

        // Transactions
        function displayTransactions() {
            const html = transactions.map(t => {
                const product = products.find(p => p.id === t.product_id);
                return `<tr>
                    <td>${t.id}</td>
                    <td>${product ? product.name : 'Unknown'}</td>
                    <td><span style="color: ${t.type === 'IN' ? 'green' : 'red'}">${t.type}</span></td>
                    <td>${t.quantity}</td>
                    <td>${t.date}</td>
                </tr>`;
            }).join('');
            document.getElementById('transactionsTable').innerHTML = html;
        }

        document.getElementById('transactionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const product_id = parseInt(document.getElementById('transactionProduct').value);
            const type = document.getElementById('transactionType').value;
            const quantity = parseInt(document.getElementById('transactionQuantity').value);
            const date = document.getElementById('transactionDate').value;

            const newId = transactions.length > 0 ? Math.max(...transactions.map(t => t.id)) + 1 : 1;
            transactions.push({ id: newId, product_id, type, quantity, date });

            // Update product quantity
            const product = products.find(p => p.id === product_id);
            if (product) {
                if (type === 'IN') {
                    product.quantity += quantity;
                } else {
                    product.quantity -= quantity;
                }
            }

            resetTransactionForm();
            displayTransactions();
            displayProducts();
            updateDashboard();
            showAlert('transactionAlert', 'Transaction added successfully!');
        });

        function resetTransactionForm() {
            document.getElementById('transactionForm').reset();
            document.getElementById('transactionDate').valueAsDate = new Date();
        }

        function showAlert(alertId, message) {
            const alert = document.getElementById(alertId);
            alert.textContent = message;
            alert.style.display = 'block';
            setTimeout(() => {
                alert.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>